<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login | Learnify</title>
<link rel="stylesheet" href="./styles.css">
<style>
body { font-family:"Poppins",sans-serif; margin:0; background:#f9f9f9; }
header { width:100%; background:#1e90ff; padding:15px 40px; display:flex; justify-content:space-between; align-items:center; color:#fff; }
header nav a { color:#fff; margin-left:15px; text-decoration:none; font-weight:500; }
.login-container { max-width:400px; margin:80px auto; padding:2rem; background:#fff; border-radius:15px; box-shadow:0 6px 15px rgba(0,0,0,0.1); }
h2{text-align:center;margin-bottom:1.5rem;}
input{width:100%; padding:0.8rem;margin:0.5rem 0; border-radius:10px; border:1px solid #ddd;}
button{width:100%; padding:0.8rem; background:#1e90ff; color:#fff; border:none; border-radius:10px; font-size:1rem; cursor:pointer; transition:0.3s;}
button:hover{background:#104e8b;}
</style>
</head>
<body>

<header>
<h1>Learnify</h1>
<nav>
  <a href="index.html">Home</a>
  <a href="dashboard.html" onclick="notAllowed(event)">Dashboard</a>
  <a href="profile.html" onclick="notAllowed(event)">Profile</a>
  <a href="about.html">About</a>
  <a href="contact.html" onclick="notAllowed(event)">Contact</a>
  <a href="login.html">Login</a>
</nav>
</header>

<div class="login-container">
  <h2>Login</h2>
  <form id="loginForm">
    <input type="email" name="email" placeholder="Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Login</button>
  </form>
  <p style="text-align:center; margin-top:1rem;">
    Don't have an account? <a href="registrationform.html">Register here</a>
  </p>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
// Restrict features before login
function notAllowed(e){
  e.preventDefault();
  Swal.fire({ icon:'warning', title:'Please register or login first', confirmButtonColor:'#1e90ff' });
}

// Login validation
document.getElementById("loginForm").addEventListener("submit", function(e){
  e.preventDefault();
  const email = this.email.value;
  const password = this.password.value;
  const users = JSON.parse(localStorage.getItem("users")) || [];
  const user = users.find(u => u.email === email && u.password === password);
  if(user){
    localStorage.setItem("currentUser", JSON.stringify(user));
    window.location.href = "dashboard.html";
  } else {
    Swal.fire({ icon:'error', title:'Login Failed', text:'Invalid email or password', confirmButtonColor:'#1e90ff' });
  }
});
</script>

</body>
</html>
